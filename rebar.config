{erl_opts, [debug_info]}.

{deps, [
    grisp,
    {gun, "1.3.3"},
    {grisp_cryptoauth, "2.3.1"},
    {grisp_updater, {git, "https://github.com/grisp/grisp_updater.git", {branch, "main"}}}
]}.

{relx, [
    {release, {grisp_updater_grisp2, "0.1.0"}, [grisp_updater_grisp2]}
]}.

{profiles, [
    {prod, [
        {relx, [{sys_config, "config/sys.config"}]}
    ]},
    {dev, [
        {relx, [{sys_config, "config/dev.config"}]}
    ]},
    {local, [
        {deps, [
            {grisp_emulation, "0.2.1"}
        ]},
        {overrides, [
            {add, grisp_cryptoauth, [{erl_opts, [{d, 'EMULATE_CRYPTOAUTH'}]}]}
        ]},
        {shell, [
            {apps, [grisp_emulation, grisp_updater_grisp2]},
            {config, "config/local.config"}
        ]}
    ]}
]}.
